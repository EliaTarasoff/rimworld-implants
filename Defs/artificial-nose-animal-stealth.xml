<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <ThingDef ParentName="BodyPartArtificialNoCraftBase">
        <defName>NoseAnimals</defName>
        <label>Animal-Pal nose</label>
        <description>The Animal-Pal nose allows humans to detect airborne chemicals as well as most other animals. The practical upshot of this is that hunters may more easily sneak up on animals, and handlers have an easier time with animals.</description>

        <statBases>
            <MarketValue>1500</MarketValue>
            <Mass>1.0</Mass>
        </statBases>
    </ThingDef>

    <HediffDef ParentName="AddedBodyPartBase">
        <defName>HediffNoseAnimals</defName>
        <label>Animal-Pal nose</label>
        <labelNoun>an Animal-Pal nose</labelNoun>

        <spawnThingOnRemoved>NoseAnimals</spawnThingOnRemoved>
        <addedPartProps>
            <solid>true</solid>
            <partEfficiency>1.5</partEfficiency>
            <betterThanNatural>true</betterThanNatural>
        </addedPartProps>
        <stages>
            <li>
                <capMods>
                    <li>
                        <capacity>HuntingStealth</capacity>
                        <offset>0.5</offset>
                    </li>
                    <li>
                        <capacity>TrainAnimalChance</capacity>
                        <offset>0.5</offset>
                    </li>
                    <li>
                        <capacity>AnimalGatherSpeed</capacity>
                        <offset>0.2</offset>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <RecipeDef ParentName="SurgeryFlesh">
        <defName>InstallNoseAnimals</defName>
        <label>install Animal-Pal</label>
        <description>Install an Animal-Pal nose.</description>
        <jobString>Installing an Animal-Pal nose.</jobString>

        <workerClass>Recipe_InstallArtificialBodyPart</workerClass>
        <workAmount>1000</workAmount>
        <skillRequirements>
            <Medicine>3</Medicine>
        </skillRequirements>
        <ingredients>
            <li>
                <filter>
                    <categories>
                        <li>Medicine</li>
                    </categories>
                </filter>
                <count>1</count>
            </li>
            <li>
                <filter>
                    <thingDefs>
                        <li>NoseAnimals</li>
                    </thingDefs>
                </filter>
                <count>1</count>
            </li>
        </ingredients>
        <fixedIngredientFilter>
            <categories>
                <li>Medicine</li>
            </categories>
            <thingDefs>
                <li>NoseAnimals</li>
            </thingDefs>
        </fixedIngredientFilter>
        <appliedOnFixedBodyParts>
            <li>Nose</li>
        </appliedOnFixedBodyParts>
        <addsHediff>HediffNoseAnimals</addsHediff>
    </RecipeDef>
</Defs>