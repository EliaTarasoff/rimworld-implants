<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <ThingDef ParentName="BodyPartArtificialNoCraftBase">
        <defName>ToxicLung</defName>
        <label>Tox-O-Mat Lung</label>
        <description>The Tox-O-Mat artificial lung was designed to filter out airborne toxins. Its cheap design made it mass-producible, useful for slave-operated cleanup crews.</description>

        <statBases>
            <MarketValue>350</MarketValue>  <!--biological lung is 400, and better function (although not toxic-immune)-->
            <Mass>3</Mass>
        </statBases>
    </ThingDef>

    <HediffDef ParentName="AddedBodyPartBase">
        <defName>ToxicLungHediff</defName>
        <label>Tox-O-Mat Lung</label>
        <labelNoun>a Tox-O-Mat lung</labelNoun>
        <spawnThingOnRemoved>ToxicLung</spawnThingOnRemoved>
        <addedPartProps>
            <solid>true</solid>
            <partEfficiency>0.7</partEfficiency>
        </addedPartProps>
        <stages>
            <li>
                <statOffsets>
                    <ToxicSensitivity>-0.4</ToxicSensitivity>
                </statOffsets>
            </li>
        </stages>
    </HediffDef>

    <RecipeDef ParentName="SurgeryFlesh">
        <defName>InstallToxicLung</defName>
        <label>install Tox-O-Mat lung</label>
        <description>Install a Tox-O-Mat lung.</description>
        <jobString>Installing a Tox-O-Mat lung.</jobString>

        <workerClass>Recipe_InstallArtificialBodyPart</workerClass>
        <workAmount>2000</workAmount>
        <skillRequirements>
            <Medicine>6</Medicine>
        </skillRequirements>
        <ingredients>
            <li>
                <filter>
                    <categories>
                        <li>Medicine</li>
                    </categories>
                </filter>
                <count>1</count>
            </li>
            <li>
                <filter>
                    <thingDefs>
                        <li>ToxicLung</li>
                    </thingDefs>
                </filter>
                <count>1</count>
            </li>
        </ingredients>
        <fixedIngredientFilter>
            <categories>
                <li>Medicine</li>
            </categories>
            <thingDefs>
                <li>ToxicLung</li>
            </thingDefs>
        </fixedIngredientFilter>
        <appliedOnFixedBodyParts>
            <li>Lung</li>
        </appliedOnFixedBodyParts>
        <addsHediff>ToxicLungHediff</addsHediff>
    </RecipeDef>
</Defs>