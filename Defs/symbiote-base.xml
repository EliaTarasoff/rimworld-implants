<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <ThingDef Name="SymbioteBase" ParentName="BodyPartBase" Abstract="True">
        <graphicData>
            <texPath>Things/Item/Health/HealthItem</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>0.80</drawSize>
        </graphicData>

        <thingCategories>
            <li>BodyPartsBionic</li>
        </thingCategories>
        <!--
        Note: not-a-body-part-replacement hediffs, like implants / my symbiotes, can't spawn things on removal.
        Only body-part-replacement hediffs, like wooden legs and bionic hearts can do that.
        See this forum thread: https://ludeon.com/forums/index.php?topic=42444.0
        Flavor-text- / hand-wave-wise, I'm willing to put up with these being "attached" / "integrated" with the body,
        and irrecoverable.

        <spawnThingOnRemoved>SpineSymbiote</spawnThingOnRemoved>
        -->
        <thingSetMakerTags>
            <li>RewardStandardHighFreq</li>
        </thingSetMakerTags>
        <tradeTags>
            <!-- orbital traders, industrial bases, industrial caravans -->
            <li>TechHediff</li>
            <li>ExoticMisc</li>
        </tradeTags>
        <techLevel>Spacer</techLevel> <!-- ?!? -->
        <techHediffsTags>
            <!-- putting tags here allow pawns to spawn with it... -->
        </techHediffsTags>
    </ThingDef>

    <ThingDef>
        <defName>SymbioteHeartSelfAdministerable</defName>
        <label>TODO symbiote-installer</label>
        <description>TODO description for installer</description>

        <graphicData>
            <texPath>Things/Item/Health/HealthItem</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>0.80</drawSize>
        </graphicData>

        <thingClass>ThingWithComps</thingClass>
        <category>Item</category>
        <techLevel>Spacer</techLevel>
        <useHitPoints>true</useHitPoints>
        <pathCost>15</pathCost>
        <selectable>true</selectable>
        <altitudeLayer>Item</altitudeLayer>
        <tickerType>Never</tickerType>
        <alwaysHaulable>true</alwaysHaulable>
        <thingCategories>
            <li>Items</li>
        </thingCategories>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Beauty>-4</Beauty>
            <Mass>1</Mass>
            <MarketValue>1800</MarketValue>
            <DeteriorationRate>0</DeteriorationRate>
        </statBases>
        <comps>
            <li Class="CompProperties_Usable">
                <compClass>CompUsableImplant</compClass>
                <useJob>UseItem</useJob>
                <useLabel>Swallow symbiote...</useLabel>
            </li>
            <li Class="CompProperties_UseEffectInstallImplant">
                <hediffDef>HeartSymbioteHediff</hediffDef>
                <bodyPart>Heart</bodyPart>
                <canUpgrade>false</canUpgrade>
            </li>
            <li Class="CompProperties_UseEffectPlaySound">
                <soundOnUsed>Pawn_Melee_HumanBite_Hit</soundOnUsed>
            </li>
            <li Class="CompProperties_UseEffect">
                <compClass>CompUseEffect_DestroySelf</compClass>
            </li>
            <li Class="CompProperties_Forbiddable"/>
        </comps>
    </ThingDef>

    <HediffDef Name="SymbioteHediffBase" ParentName="ImplantHediffBase" Abstract="True">
        <description>I hope this was worth it...</description>

        <hediffClass>HediffWithComps</hediffClass>

        <!--60 days is one year-->
        <initialSeverity>0.001</initialSeverity>
        <minSeverity>0.001</minSeverity>
        <maxSeverity>60</maxSeverity>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>1.0</severityPerDay>
            </li>
        </comps>
    </HediffDef>

    <RecipeDef Name="InstallSymbioteBase" ParentName="SurgeryFlesh" Abstract="True">
        <description>"Install" a symbiote.</description>
        <jobString>"Installing" symbiote.</jobString>

        <workerClass>Recipe_InstallImplant</workerClass>
        <recipeUsers>
            <li>Human</li>
        </recipeUsers>
    </RecipeDef>

    <RecipeDef Name="RemoveSymbioteBase" ParentName="SurgeryFlesh" Abstract="True">
        <description>Remove a symbiote.</description>
        <jobString>Removing symbiote.</jobString>
        <successfullyRemovedHediffMessage>{0} has successfully removed {1}'s symbiote.</successfullyRemovedHediffMessage>

        <workerClass>Recipe_RemoveHediff</workerClass>
        <recipeUsers>
            <li>Human</li>
        </recipeUsers>
    </RecipeDef>
</Defs>